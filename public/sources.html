// בתוך ה-script של index.html, וודא שהשורה הזו קיימת:
async function fetchData(kw) {
    // טעינת המקורות מהמפתח המשותף
    const customSources = JSON.parse(localStorage.getItem('intel_sources_v3') || '[]');
    
    // אם אין מקורות, המערכת תודיע לך
    if (customSources.length === 0) {
        console.log("שים לב: לא הוגדרו מקורות אישיים בניהול המקורות");
    }

    try {
        const r = await fetch('/api/search', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ 
                keyword: kw, 
                customSources: customSources 
            })
        });
        // ... המשך הקוד כרגיל ...